# troubleshooting

- 

```cs
    public void OnClickAddTower()
    {
        if (GameManager.instance.gold >= GameManager.instance.initialGameState.TowerCost)
        {
            GameManager.instance.gold -= GameManager.instance.initialGameState.TowerCost;
            var pos = GameManager.instance.AddRandomTower();
            //var tower = GameManager.instance.AddRandomTower();
            GamePacket packet = new GamePacket();
            packet.TowerPurchaseRequest = new C2STowerPurchaseRequest() { X = pos.x, Y = pos.y };
            SocketManager.instance.Send(packet);
        }
    }
```

종종

```cs
{ "towerPurchaseRequest": { "y": 320.58136 } }
```
x값이 누락된 채로 패킷을 만들어 전송하여 오류가 났음.

여러 번의 테스트와 로깅 결과,
x 속성값이 0일 때 발생하는데,

관련하여 찾아본 결과 아마도 C#에서 JSON 직렬화 할 때에 기본값이 0에 대해 자동으로 생략하는 설정이 적용된 것으로 추측됨.

그 결과, 작은 epsilon값을 더해줌으로 결손값 생기는 것을 방지하는 측면에서 +1 스내핑하는 것으로 트러블슈팅.



<br><br><br><br>

타워의 다중 공격 처리

기존 클라이언트 로직은 range가 설정된 콜리더를 통해 OnTriggerStay2D로 충돌체 감지를 통한 호출.

호출한 collision 객체 말고도 해당 범위내에 존재하는 monster를 순회 탐색하는 것으로 해결